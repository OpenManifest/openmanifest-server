{"version":3,"sources":["DataTableCell.tsx","DataTableHeader.tsx","DataTableTitle.tsx","DataTablePagination.tsx","DataTableRow.tsx","DataTable.tsx","Switch.tsx","components/layout/DialogOrSheet.web.tsx","components/layout/SwipeActions.tsx","components/forms/ticket_type/TicketTypeForm.tsx","components/dialogs/TicketType.tsx","screens/authenticated/ticket_types/TicketTypesScreen.tsx"],"names":["DataTableCell","rest","style","styles","numeric","numberOfLines","StyleSheet","container","flex","flexDirection","alignItems","right","justifyContent","DataTableHeader","borderBottomColor","color","theme","header","height","paddingHorizontal","borderBottomWidth","withTheme","DataTableTitle","spinAnim","React","Animated","sortDirection","current","toValue","duration","useNativeDriver","textColor","spin","inputRange","outputRange","icon","transform","rotate","name","size","direction","I18nManager","disabled","onPress","alignContent","paddingVertical","cell","lineHeight","fontSize","fontWeight","sorted","marginLeft","DataTablePagination","labelColor","page","onPageChange","numberOfPages","paddingLeft","label","marginRight","borderStyle","minHeight","content","pointerEvents","DataTable","width","version","NativeModules","checkedColor","onTintColor","Platform","setColor","thumbTintColor","value","props","activeTrackColor","thumbColor","activeThumbColor","trackColor","true","false","onValueChange","DialogOrSheet","buttonLabel","buttonAction","title","loading","children","globalState","useAppSelector","state","global","visible","open","dismissable","maxWidth","alignSelf","indeterminate","colors","accent","Title","Content","ScrollArea","Actions","onClose","create","button","borderRadius","padding","contentContainer","paddingBottom","sheet","elevation","backgroundColor","flexGrow","display","sheetHeader","borderTopLeftRadius","borderTopRightRadius","shadowColor","shadowOffset","shadowOpacity","shadowRadius","SwipeActions","rightAction","ref","enabled","renderRightActions","progress","dragX","scale","interpolate","translateX","close","View","Text","useNativeAnimations","QUERY_EXTRAS","gql","TicketTypeForm","forms","ticketType","dispatch","useAppDispatch","currentDropzone","useCurrentDropzone","altitudeMenuOpen","setAltitudeMenuOpen","useQuery","variables","dropzoneId","Number","dropzone","id","data","refetch","TextInput","field","mode","error","fields","onChangeText","newValue","actions","setField","HelperText","type","cost","toString","Menu","onDismiss","position","left","anchor","Item","altitude","includes","Icon","Checkbox","status","isTandem","allowManifestingSelf","Divider","Subheader","extras","map","extra","key","filter","marginBottom","MUTATION_CREATE_TICKET_TYPE","MUTATION_UPDATE_TICKET_TYPE","TicketTypeDialog","useMutation","mutationCreateTicketType","mutationUpdateTicketType","update","isFocused","useIsFocused","reset","validate","hasError","length","setFieldError","JSON","stringify","onSave","a","async","mutation","original","extraIds","result","payload","updateTicketType","createTicketType","fieldErrors","message","errors","notifications","showSnackbar","variant","QUERY_TICKET_TYPE","MUTATION_DELETE_TICKET_TYPE","TicketTypesScreen","form","route","useRoute","mutationDeleteTicketType","canCreateTicketTypes","useRestriction","Permission","CreateTicketType","ScrollableScreen","contentContainerStyle","refreshControl","RefreshControl","refreshing","onRefresh","ProgressBar","Header","ticketTypes","deleteTicketType","Row","setOpen","Cell","Switch","FAB","fab","small","margin","bottom","empty"],"mappings":"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","file":"static/js/15.9e68813e.chunk.js","sourcesContent":["import * as React from 'react';\nimport { StyleSheet, StyleProp, ViewStyle } from 'react-native';\nimport Text from '../Typography/Text';\nimport TouchableRipple from '../TouchableRipple/TouchableRipple';\nimport type { $RemoveChildren } from '../../types';\n\ntype Props = $RemoveChildren<typeof TouchableRipple> & {\n  /**\n   * Content of the `DataTableCell`.\n   */\n  children: React.ReactNode;\n  /**\n   * Align the text to the right. Generally monetary or number fields are aligned to right.\n   */\n  numeric?: boolean;\n  /**\n   * Function to execute on press.\n   */\n  onPress?: () => void;\n  style?: StyleProp<ViewStyle>;\n};\n\n/**\n * A component to show a single cell inside of a table.\n *\n * <div class=\"screenshots\">\n *   <figure>\n *     <img class=\"medium\" src=\"screenshots/data-table-row-cell.png\" />\n *   </figure>\n * </div>\n *\n *\n * ## Usage\n * ```js\n * import * as React from 'react';\n * import { DataTable } from 'react-native-paper';\n *\n * const MyComponent = () => (\n *      <DataTable.Row>\n *        <DataTable.Cell numeric>1</DataTable.Cell>\n *        <DataTable.Cell numeric>2</DataTable.Cell>\n *        <DataTable.Cell numeric>3</DataTable.Cell>\n *        <DataTable.Cell numeric>4</DataTable.Cell>\n *      </DataTable.Row>\n * );\n *\n * export default MyComponent;\n * ```\n *\n * If you want to support multiline text, please use View instead, as multiline text doesn't comply with\n * MD Guidelines (https://github.com/callstack/react-native-paper/issues/2381).\n */\n\nconst DataTableCell = ({ children, style, numeric, ...rest }: Props) => (\n  <TouchableRipple\n    {...rest}\n    style={[styles.container, numeric && styles.right, style]}\n  >\n    <Text numberOfLines={1}>{children}</Text>\n  </TouchableRipple>\n);\n\nDataTableCell.displayName = 'DataTable.Cell';\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n\n  right: {\n    justifyContent: 'flex-end',\n  },\n});\n\nexport default DataTableCell;\n","import * as React from 'react';\nimport color from 'color';\nimport { StyleSheet, StyleProp, View, ViewStyle } from 'react-native';\nimport { black, white } from '../../styles/colors';\nimport { withTheme } from '../../core/theming';\n\ntype Props = React.ComponentPropsWithRef<typeof View> & {\n  /**\n   * Content of the `DataTableHeader`.\n   */\n  children: React.ReactNode;\n  style?: StyleProp<ViewStyle>;\n  /**\n   * @optional\n   */\n  theme: ReactNativePaper.Theme;\n};\n\n/**\n * A component to display title in table header.\n *\n * <div class=\"screenshots\">\n *   <figure>\n *     <img class=\"medium\" src=\"screenshots/data-table-header.png\" />\n *   </figure>\n * </div>\n *\n *\n * ## Usage\n * ```js\n * import * as React from 'react';\n * import { DataTable } from 'react-native-paper';\n *\n * const MyComponent = () => (\n *       <DataTable>\n *         <DataTable.Header>\n *           <DataTable.Title\n *             sortDirection='descending'\n *           >\n *             Dessert\n *           </DataTable.Title>\n *           <DataTable.Title numeric>Calories</DataTable.Title>\n *           <DataTable.Title numeric>Fat (g)</DataTable.Title>\n *         </DataTable.Header>\n *       </DataTable>\n * );\n *\n * export default MyComponent;\n * ```\n */\n\nconst DataTableHeader = ({ children, style, theme, ...rest }: Props) => {\n  const borderBottomColor = color(theme.dark ? white : black)\n    .alpha(0.12)\n    .rgb()\n    .string();\n\n  return (\n    <View {...rest} style={[styles.header, { borderBottomColor }, style]}>\n      {children}\n    </View>\n  );\n};\n\nDataTableHeader.displayName = 'DataTable.Header';\n\nconst styles = StyleSheet.create({\n  header: {\n    flexDirection: 'row',\n    height: 48,\n    paddingHorizontal: 16,\n    borderBottomWidth: StyleSheet.hairlineWidth * 2,\n  },\n});\n\nexport default withTheme(DataTableHeader);\n\n// @component-docs ignore-next-line\nexport { DataTableHeader };\n","import * as React from 'react';\nimport {\n  Animated,\n  StyleProp,\n  StyleSheet,\n  TouchableWithoutFeedback,\n  View,\n  ViewStyle,\n  I18nManager,\n} from 'react-native';\nimport color from 'color';\nimport MaterialCommunityIcon from '../MaterialCommunityIcon';\nimport Text from '../Typography/Text';\nimport { withTheme } from '../../core/theming';\n\ntype Props = React.ComponentPropsWithRef<typeof TouchableWithoutFeedback> & {\n  /**\n   * Text content of the `DataTableTitle`.\n   */\n  children: React.ReactNode;\n  /**\n   * Align the text to the right. Generally monetary or number fields are aligned to right.\n   */\n  numeric?: boolean;\n  /**\n   * Direction of sorting. An arrow indicating the direction is displayed when this is given.\n   */\n  sortDirection?: 'ascending' | 'descending';\n  /**\n   * The number of lines to show.\n   */\n  numberOfLines?: number;\n  /**\n   * Function to execute on press.\n   */\n  onPress?: () => void;\n  style?: StyleProp<ViewStyle>;\n  /**\n   * @optional\n   */\n  theme: ReactNativePaper.Theme;\n};\n\n/**\n * A component to display title in table header.\n *\n * <div class=\"screenshots\">\n *   <figure>\n *     <img class=\"medium\" src=\"screenshots/data-table-header.png\" />\n *   </figure>\n * </div>\n *\n *\n * ## Usage\n * ```js\n * import * as React from 'react';\n * import { DataTable } from 'react-native-paper';\n *\n * const MyComponent = () => (\n *       <DataTable>\n *         <DataTable.Header>\n *           <DataTable.Title\n *             sortDirection='descending'\n *           >\n *             Dessert\n *           </DataTable.Title>\n *           <DataTable.Title numeric>Calories</DataTable.Title>\n *           <DataTable.Title numeric>Fat (g)</DataTable.Title>\n *         </DataTable.Header>\n *       </DataTable>\n * );\n *\n * export default MyComponent;\n * ```\n */\n\nconst DataTableTitle = ({\n  numeric,\n  children,\n  onPress,\n  sortDirection,\n  theme,\n  style,\n  numberOfLines = 1,\n  ...rest\n}: Props) => {\n  const { current: spinAnim } = React.useRef<Animated.Value>(\n    new Animated.Value(sortDirection === 'ascending' ? 0 : 1)\n  );\n\n  React.useEffect(() => {\n    Animated.timing(spinAnim, {\n      toValue: sortDirection === 'ascending' ? 0 : 1,\n      duration: 150,\n      useNativeDriver: true,\n    }).start();\n  }, [sortDirection, spinAnim]);\n\n  const textColor = color(theme.colors.text).alpha(0.6).rgb().string();\n\n  const spin = spinAnim.interpolate({\n    inputRange: [0, 1],\n    outputRange: ['0deg', '180deg'],\n  });\n\n  const icon = sortDirection ? (\n    <Animated.View style={[styles.icon, { transform: [{ rotate: spin }] }]}>\n      <MaterialCommunityIcon\n        name=\"arrow-up\"\n        size={16}\n        color={theme.colors.text}\n        direction={I18nManager.isRTL ? 'rtl' : 'ltr'}\n      />\n    </Animated.View>\n  ) : null;\n\n  return (\n    <TouchableWithoutFeedback disabled={!onPress} onPress={onPress} {...rest}>\n      <View style={[styles.container, numeric && styles.right, style]}>\n        {icon}\n\n        <Text\n          style={[\n            styles.cell,\n            sortDirection ? styles.sorted : { color: textColor },\n          ]}\n          numberOfLines={numberOfLines}\n        >\n          {children}\n        </Text>\n      </View>\n    </TouchableWithoutFeedback>\n  );\n};\n\nDataTableTitle.displayName = 'DataTable.Title';\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    flexDirection: 'row',\n    alignContent: 'center',\n    paddingVertical: 12,\n  },\n\n  right: {\n    justifyContent: 'flex-end',\n  },\n\n  cell: {\n    height: 24,\n    lineHeight: 24,\n    fontSize: 12,\n    fontWeight: '500',\n    alignItems: 'center',\n  },\n\n  sorted: {\n    marginLeft: 8,\n  },\n\n  icon: {\n    height: 24,\n    justifyContent: 'center',\n  },\n});\n\nexport default withTheme(DataTableTitle);\n\n// @component-docs ignore-next-line\nexport { DataTableTitle };\n","import * as React from 'react';\nimport {\n  StyleSheet,\n  StyleProp,\n  View,\n  ViewStyle,\n  I18nManager,\n} from 'react-native';\nimport color from 'color';\nimport IconButton from '../IconButton';\nimport Text from '../Typography/Text';\nimport { withTheme } from '../../core/theming';\nimport MaterialCommunityIcon from '../MaterialCommunityIcon';\n\ntype Props = React.ComponentPropsWithRef<typeof View> & {\n  /**\n   * The currently visible page (starting with 0).\n   */\n  page: number;\n  /**\n   * The total number of pages.\n   */\n  numberOfPages: number;\n  /**\n   * Label text to display\n   */\n  label?: React.ReactNode;\n  /**\n   * Function to execute on page change.\n   */\n  onPageChange: (page: number) => void;\n  style?: StyleProp<ViewStyle>;\n  /**\n   * @optional\n   */\n  theme: ReactNativePaper.Theme;\n};\n\n/**\n * A component to show pagination for data table.\n *\n * <div class=\"screenshots\">\n *   <figure>\n *     <img class=\"medium\" src=\"screenshots/data-table-pagination.png\" />\n *   </figure>\n * </div>\n *\n *\n * ## Usage\n * ```js\n * import * as React from 'react';\n * import { DataTable } from 'react-native-paper';\n *\n * const itemsPerPage = 2;\n *\n * const items = [\n *   {\n *     key: 1,\n *     name: 'Page 1',\n *   },\n *   {\n *     key: 2,\n *     name: 'Page 2',\n *   },\n *   {\n *     key: 3,\n *     name: 'Page 3',\n *   },\n * ];\n *\n * const MyComponent = () => {\n *   const [page, setPage] = React.useState(0);\n *   const from = page * itemsPerPage;\n *   const to = (page + 1) * itemsPerPage;\n *\n *   return (\n *     <DataTable>\n *       <DataTable.Pagination\n *         page={page}\n *         numberOfPages={Math.floor(items.length / itemsPerPage)}\n *         onPageChange={page => setPage(page)}\n *         label={`${from + 1}-${to} of ${items.length}`}\n *       />\n *     </DataTable>\n *   );\n * };\n *\n * export default MyComponent;\n * ```\n */\n\nconst DataTablePagination = ({\n  label,\n  page,\n  numberOfPages,\n  onPageChange,\n  style,\n  theme,\n  ...rest\n}: Props) => {\n  const labelColor = color(theme.colors.text).alpha(0.6).rgb().string();\n\n  return (\n    <View {...rest} style={[styles.container, style]}>\n      <Text style={[styles.label, { color: labelColor }]} numberOfLines={1}>\n        {label}\n      </Text>\n      <IconButton\n        icon={({ size, color }) => (\n          <MaterialCommunityIcon\n            name=\"chevron-left\"\n            color={color}\n            size={size}\n            direction={I18nManager.isRTL ? 'rtl' : 'ltr'}\n          />\n        )}\n        color={theme.colors.text}\n        disabled={page === 0}\n        onPress={() => onPageChange(page - 1)}\n      />\n      <IconButton\n        icon={({ size, color }) => (\n          <MaterialCommunityIcon\n            name=\"chevron-right\"\n            color={color}\n            size={size}\n            direction={I18nManager.isRTL ? 'rtl' : 'ltr'}\n          />\n        )}\n        color={theme.colors.text}\n        disabled={numberOfPages === 0 || page === numberOfPages - 1}\n        onPress={() => onPageChange(page + 1)}\n      />\n    </View>\n  );\n};\n\nDataTablePagination.displayName = 'DataTable.Pagination';\n\nconst styles = StyleSheet.create({\n  container: {\n    justifyContent: 'flex-end',\n    flexDirection: 'row',\n    alignItems: 'center',\n    paddingLeft: 16,\n  },\n\n  label: {\n    fontSize: 12,\n    marginRight: 44,\n  },\n});\n\nexport default withTheme(DataTablePagination);\n\n// @component-docs ignore-next-line\nexport { DataTablePagination };\n","import * as React from 'react';\nimport color from 'color';\nimport {\n  StyleSheet,\n  StyleProp,\n  View,\n  ViewStyle,\n  ViewProps,\n} from 'react-native';\nimport TouchableRipple from '../TouchableRipple/TouchableRipple';\nimport { black, white } from '../../styles/colors';\nimport { withTheme } from '../../core/theming';\nimport type { $RemoveChildren } from '../../types';\n\ntype Props = $RemoveChildren<typeof TouchableRipple> & {\n  /**\n   * Content of the `DataTableRow`.\n   */\n  children: React.ReactNode;\n  /**\n   * Function to execute on press.\n   */\n  onPress?: () => void;\n  style?: StyleProp<ViewStyle>;\n  /**\n   * @optional\n   */\n  theme: ReactNativePaper.Theme;\n  /**\n   * `pointerEvents` passed to the `View` container, which is wrapping children within `TouchableRipple`.\n   */\n  pointerEvents?: ViewProps['pointerEvents'];\n};\n\n/**\n * A component to show a single row inside of a table.\n *\n * <div class=\"screenshots\">\n *   <figure>\n *     <img class=\"medium\" src=\"screenshots/data-table-row-cell.png\" />\n *   </figure>\n * </div>\n *\n *\n * ## Usage\n * ```js\n * import * as React from 'react';\n * import { DataTable } from 'react-native-paper';\n *\n * const MyComponent = () => (\n *      <DataTable.Row>\n *        <DataTable.Cell numeric>1</DataTable.Cell>\n *        <DataTable.Cell numeric>2</DataTable.Cell>\n *        <DataTable.Cell numeric>3</DataTable.Cell>\n *        <DataTable.Cell numeric>4</DataTable.Cell>\n *      </DataTable.Row>\n * );\n *\n * export default MyComponent;\n * ```\n */\n\nconst DataTableRow = ({\n  onPress,\n  style,\n  theme,\n  children,\n  pointerEvents,\n  ...rest\n}: Props) => {\n  const borderBottomColor = color(theme.dark ? white : black)\n    .alpha(0.12)\n    .rgb()\n    .string();\n\n  return (\n    <TouchableRipple\n      {...rest}\n      onPress={onPress}\n      style={[styles.container, { borderBottomColor }, style]}\n    >\n      <View style={styles.content} pointerEvents={pointerEvents}>\n        {children}\n      </View>\n    </TouchableRipple>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    borderStyle: 'solid',\n    borderBottomWidth: StyleSheet.hairlineWidth,\n    minHeight: 48,\n    paddingHorizontal: 16,\n  },\n  content: {\n    flex: 1,\n    flexDirection: 'row',\n  },\n});\n\nexport default withTheme(DataTableRow);\n\n// @component-docs ignore-next-line\nexport { DataTableRow };\n","import * as React from 'react';\nimport { StyleSheet, StyleProp, View, ViewStyle } from 'react-native';\nimport DataTableCell from './DataTableCell';\nimport DataTableHeader, {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  DataTableHeader as _DataTableHeader,\n} from './DataTableHeader';\nimport DataTableTitle, {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  DataTableTitle as _DataTableTitle,\n} from './DataTableTitle';\nimport DataTablePagination, {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  DataTablePagination as _DataTablePagination,\n} from './DataTablePagination';\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nimport DataTableRow, { DataTableRow as _DataTableRow } from './DataTableRow';\n\ntype Props = React.ComponentPropsWithRef<typeof View> & {\n  /**\n   * Content of the `DataTable`.\n   */\n  children: React.ReactNode;\n  style?: StyleProp<ViewStyle>;\n};\n\n/**\n * Data tables allow displaying sets of data.\n *\n * <div class=\"screenshots\">\n *   <figure>\n *     <img src=\"screenshots/data-table.png\" />\n *     <figcaption>Data table</figcaption>\n *   </figure>\n * </div>\n *\n * ## Usage\n * ```js\n * import * as React from 'react';\n * import { DataTable } from 'react-native-paper';\n *\n * const MyComponent = () => (\n *   <DataTable>\n *     <DataTable.Header>\n *       <DataTable.Title>Dessert</DataTable.Title>\n *       <DataTable.Title numeric>Calories</DataTable.Title>\n *       <DataTable.Title numeric>Fat</DataTable.Title>\n *     </DataTable.Header>\n *\n *     <DataTable.Row>\n *       <DataTable.Cell>Frozen yogurt</DataTable.Cell>\n *       <DataTable.Cell numeric>159</DataTable.Cell>\n *       <DataTable.Cell numeric>6.0</DataTable.Cell>\n *     </DataTable.Row>\n *\n *     <DataTable.Row>\n *       <DataTable.Cell>Ice cream sandwich</DataTable.Cell>\n *       <DataTable.Cell numeric>237</DataTable.Cell>\n *       <DataTable.Cell numeric>8.0</DataTable.Cell>\n *     </DataTable.Row>\n *\n *     <DataTable.Pagination\n *       page={1}\n *       numberOfPages={3}\n *       onPageChange={page => {\n *         console.log(page);\n *       }}\n *       label=\"1-2 of 6\"\n *     />\n *   </DataTable>\n * );\n *\n * export default MyComponent;\n * ```\n */\nconst DataTable = ({ children, style, ...rest }: Props) => (\n  <View {...rest} style={[styles.container, style]}>\n    {children}\n  </View>\n);\n\n// @component ./DataTableHeader.tsx\nDataTable.Header = DataTableHeader;\n\n// @component ./DataTableTitle.tsx\nDataTable.Title = DataTableTitle;\n\n// @component ./DataTableRow.tsx\nDataTable.Row = DataTableRow;\n\n// @component ./DataTableCell.tsx\nDataTable.Cell = DataTableCell;\n\n// @component ./DataTablePagination.tsx\nDataTable.Pagination = DataTablePagination;\n\nconst styles = StyleSheet.create({\n  container: {\n    width: '100%',\n  },\n});\n\nexport default DataTable;\n","import * as React from 'react';\nimport { grey400, grey800, grey50, white, black } from '../styles/colors';\nimport {\n  NativeModules,\n  Platform,\n  StyleProp,\n  Switch as NativeSwitch,\n  ViewStyle,\n} from 'react-native';\nimport setColor from 'color';\nimport { withTheme } from '../core/theming';\n\nconst version = NativeModules.PlatformConstants\n  ? NativeModules.PlatformConstants.reactNativeVersion\n  : undefined;\n\ntype Props = React.ComponentPropsWithRef<typeof NativeSwitch> & {\n  /**\n   * Disable toggling the switch.\n   */\n  disabled?: boolean;\n  /**\n   * Value of the switch, true means 'on', false means 'off'.\n   */\n  value?: boolean;\n  /**\n   * Custom color for switch.\n   */\n  color?: string;\n  /**\n   * Callback called with the new value when it changes.\n   */\n  onValueChange?: Function;\n  style?: StyleProp<ViewStyle>;\n  /**\n   * @optional\n   */\n  theme: ReactNativePaper.Theme;\n};\n\n/**\n * Switch is a visual toggle between two mutually exclusive states â€” on and off.\n *\n * <div class=\"screenshots\">\n *   <figure>\n *     <img src=\"screenshots/switch-enabled.android.png\" />\n *     <figcaption>Android (enabled)</figcaption>\n *   </figure>\n *   <figure>\n *     <img src=\"screenshots/switch-disabled.android.png\" />\n *     <figcaption>Android (disabled)</figcaption>\n *   </figure>\n *   <figure>\n *     <img src=\"screenshots/switch-enabled.ios.png\" />\n *     <figcaption>iOS (enabled)</figcaption>\n *   </figure>\n *   <figure>\n *     <img src=\"screenshots/switch-disabled.ios.png\" />\n *     <figcaption>iOS (disabled)</figcaption>\n *   </figure>\n * </div>\n *\n * ## Usage\n * ```js\n * import * as React from 'react';\n * import { Switch } from 'react-native-paper';\n *\n * const MyComponent = () => {\n *   const [isSwitchOn, setIsSwitchOn] = React.useState(false);\n *\n *   const onToggleSwitch = () => setIsSwitchOn(!isSwitchOn);\n *\n *   return <Switch value={isSwitchOn} onValueChange={onToggleSwitch} />;\n * };\n *\n * export default MyComponent;\n * ```\n */\nconst Switch = ({\n  value,\n  disabled,\n  onValueChange,\n  color,\n  theme,\n  ...rest\n}: Props) => {\n  const checkedColor = color || theme.colors.accent;\n\n  const onTintColor =\n    Platform.OS === 'ios'\n      ? checkedColor\n      : disabled\n      ? theme.dark\n        ? setColor(white).alpha(0.1).rgb().string()\n        : setColor(black).alpha(0.12).rgb().string()\n      : setColor(checkedColor).alpha(0.5).rgb().string();\n\n  const thumbTintColor =\n    Platform.OS === 'ios'\n      ? undefined\n      : disabled\n      ? theme.dark\n        ? grey800\n        : grey400\n      : value\n      ? checkedColor\n      : theme.dark\n      ? grey400\n      : grey50;\n\n  const props =\n    version && version.major === 0 && version.minor <= 56\n      ? {\n          onTintColor,\n          thumbTintColor,\n        }\n      : Platform.OS === 'web'\n      ? {\n          activeTrackColor: onTintColor,\n          thumbColor: thumbTintColor,\n          activeThumbColor: checkedColor,\n        }\n      : {\n          thumbColor: thumbTintColor,\n          trackColor: {\n            true: onTintColor,\n            false: '',\n          },\n        };\n\n  return (\n    <NativeSwitch\n      value={value}\n      disabled={disabled}\n      onValueChange={disabled ? undefined : onValueChange}\n      {...props}\n      {...rest}\n    />\n  );\n};\n\nexport default withTheme(Switch);\n","import * as React from \"react\";\nimport { StyleSheet } from \"react-native\";\nimport { ScrollView } from \"react-native-gesture-handler\";\nimport { Button, Dialog, Portal, ProgressBar } from \"react-native-paper\";\nimport { useAppSelector } from \"../../redux\";\ninterface IBottomSheetProps {\n  open?: boolean;\n  title?: string;\n  buttonLabel?: string;\n  children: React.ReactNode;\n  loading?: boolean;\n\n  snapPoints?: Array<string | number>;\n  buttonAction?(): void;\n  onClose(): void;\n}\n\nexport default function DialogOrSheet(props: IBottomSheetProps) {\n  const { buttonLabel, buttonAction, title, loading, children } = props;\n  const globalState = useAppSelector(state => state.global);\n\n  return (\n    <Portal>\n      <Dialog visible={!!props.open} dismissable={false} style={{ maxWidth: 500, alignSelf: \"center\" }}>\n        <ProgressBar indeterminate visible={loading} color={globalState.theme.colors.accent} />\n        <Dialog.Title>\n          { title }\n        </Dialog.Title>\n        <Dialog.Content pointerEvents=\"box-none\">\n          <Dialog.ScrollArea>\n            <ScrollView>\n              { children }\n            </ScrollView>\n          </Dialog.ScrollArea>\n        </Dialog.Content>\n        <Dialog.Actions style={{ justifyContent: \"flex-end\"}}>\n          <Button\n            onPress={() => {\n              props.onClose();\n            }}\n          >\n            Cancel\n          </Button>\n          \n          <Button onPress={buttonAction}>\n            { buttonLabel }\n          </Button>\n        </Dialog.Actions>\n      </Dialog>\n    </Portal>\n  )\n}\n\nconst styles = StyleSheet.create({\n  button: {\n    width: \"100%\",\n    borderRadius: 16,\n    padding: 5,\n  },\n  contentContainer: {\n    paddingHorizontal: 16,\n    paddingBottom: 32,\n  },\n  sheet: {\n    elevation: 3,\n    backgroundColor: \"white\",\n    flexGrow: 1,\n    height: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n  },\n  sheetHeader: {\n    elevation: 2,\n    borderTopLeftRadius: 20,\n    borderTopRightRadius: 20,\n    height: 40,\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: -4,\n    },\n    backgroundColor: \"white\",\n    shadowOpacity: 0.22,\n    shadowRadius: 2.22,\n  }\n\n})","import * as React from \"react\";\nimport { Animated } from \"react-native\";\nimport { TouchableOpacity } from \"react-native-gesture-handler\";\nimport Swipeable from 'react-native-gesture-handler/Swipeable';\n\n\nexport interface ISwipeAction {\n  label: string;\n  \n  backgroundColor?: string;\n  onPress(): void;\n}\nexport interface ISwipeActions {\n  rightAction?: ISwipeAction;\n  disabled?: boolean;\n  children: React.ReactNode;\n}\n\nexport default function SwipeActions(props: ISwipeActions) {\n  const { children, rightAction, disabled } = props;\n\n  const ref = React.useRef<any>();\n  const rightActions = (progress: Animated.AnimatedInterpolation, dragX: Animated.AnimatedInterpolation) => {\n    const scale = dragX.interpolate({\n      inputRange: [-100, 0],\n      outputRange: [1.0, 0]\n    })\n\n    const translateX = dragX.interpolate({\n      inputRange: [-150, 0],\n      outputRange: [0, 10]\n    });\n\n    return (\n        <TouchableOpacity\n          onPress={() => {\n            rightAction?.onPress();\n            ref?.current?.close();\n          }}\n        >\n          <Animated.View\n            style={{\n              flexGrow: 1,\n              backgroundColor: rightAction?.backgroundColor,\n              justifyContent: 'center',\n              height: \"100%\",\n              width: 75,\n              transform: [{ translateX }]\n            }}>\n            <Animated.Text\n              style={{\n                color: 'white',\n                paddingHorizontal: 10,\n                fontWeight: '600',\n                transform: [{ scale }]\n              }}>\n              {rightAction?.label}\n            </Animated.Text>\n          </Animated.View>\n        </TouchableOpacity>\n    )\n   }\n  return (\n    <Swipeable ref={ref} enabled={!disabled} renderRightActions={rightActions} useNativeAnimations>\n      { children }\n    </Swipeable>\n  )\n}","import { useQuery } from '@apollo/client';\nimport gql from 'graphql-tag';\nimport * as React from 'react';\nimport { StyleSheet, View } from 'react-native';\nimport { TextInput, HelperText, Checkbox, Menu, List, Divider } from 'react-native-paper';\nimport useCurrentDropzone from '../../../graphql/hooks/useCurrentDropzone';\nimport { Query } from '../../../graphql/schema';\nimport { actions, useAppSelector, useAppDispatch } from '../../../redux';\n\n\nconst QUERY_EXTRAS = gql`\n  query QueryExtras(\n    $dropzoneId: Int!\n  ) {\n    extras(dropzoneId: $dropzoneId) {\n      id\n      cost\n      name\n\n      ticketTypes {\n        id\n        name\n      }\n    }\n  }\n`;\n\nexport default function TicketTypeForm() {\n  const state = useAppSelector(state => state.forms.ticketType);\n  const dispatch = useAppDispatch();\n  const currentDropzone = useCurrentDropzone();\n\n  const [altitudeMenuOpen, setAltitudeMenuOpen] = React.useState(false);\n  const { data, loading, refetch } = useQuery<Query>(QUERY_EXTRAS, {\n    variables: {\n      dropzoneId: Number(currentDropzone?.dropzone?.id),\n    }\n  });\n\n  return ( \n    <>\n      <TextInput\n        style={styles.field}\n        mode=\"outlined\"\n        label=\"Name\"\n        error={!!state.fields.name.error}\n        value={state.fields.name.value || \"\"}\n        onChangeText={(newValue) => dispatch(actions.forms.ticketType.setField([\"name\", newValue]))}\n      />\n      <HelperText type={!!state.fields.name.error ? \"error\" : \"info\"}>\n        { state.fields.name.error || \"Name of the ticket users will see\" }\n      </HelperText>\n\n      <TextInput\n        style={styles.field}\n        mode=\"outlined\"\n        label=\"Price\"\n        error={!!state.fields.cost.error}\n        value={state.fields.cost?.value?.toString()}\n        onChangeText={(newValue) => dispatch(actions.forms.ticketType.setField([\"cost\", Number(newValue)]))}\n      />\n      <HelperText type={!!state.fields.cost.error ? \"error\" : \"info\"}>\n        { state.fields.cost.error || \"Base cost without extra ticket addons\" }\n      </HelperText>\n      <View style={{ width: \"100%\" }}>\n\n      <Menu\n        onDismiss={() => setAltitudeMenuOpen(false)}\n        visible={altitudeMenuOpen}\n\n        style={{position:'absolute',right:'10%',left:'10%', flex: 1 }}\n        anchor={\n          <List.Item\n            onPress={() => {\n              setAltitudeMenuOpen(true);\n            }}\n            title={\n              state.fields.altitude.value && [4000, 14000].includes(state.fields.altitude.value) ?\n                {\n                  \"14000\": \"Height\",\n                  \"4000\": \"Hop n Pop\",\n                }[state.fields.altitude.value.toString()] :\n                \"Custom\"\n            }\n            style={{ width: \"100%\", flex: 1 }}\n            right={ () =>\n              <List.Icon icon={state.fields.altitude.value && [4000, 14000].includes(state.fields.altitude.value) ?\n                {\n                  \"14000\": \"airplane\",\n                  \"4000\": \"parachute\",\n                }[state.fields.altitude.value.toString()] as string :\n                \"pencil-plus\" \n              } />\n            }\n          />\n        }>\n          <List.Item\n            onPress={() => {\n              dispatch(actions.forms.ticketType.setField([\"altitude\", 4000]));\n              setAltitudeMenuOpen(false);\n            }}\n            title=\"Hop n Pop\"\n            right={() => <List.Icon icon=\"parachute\" />}\n          />\n          <List.Item\n            onPress={() => {\n              dispatch(actions.forms.ticketType.setField([\"altitude\", 14000]));\n              setAltitudeMenuOpen(false);\n            }}\n            title=\"Height\"\n            right={() => <List.Icon icon=\"airplane-takeoff\" />}\n          />\n          <List.Item\n            onPress={() => {\n              dispatch(actions.forms.ticketType.setField([\"altitude\", 7000]));\n              setAltitudeMenuOpen(false);\n            }}\n            title=\"Other\"\n            right={() => <List.Icon icon=\"parachute\" />}\n          />\n      </Menu>\n\n      {\n        (!state.fields.altitude.value || ![4000, 14000].includes(state.fields.altitude.value)) && (\n          <TextInput\n            style={styles.field}\n            mode=\"outlined\"\n            label=\"Custom altitude\"\n            error={!!state.fields.altitude.error}\n            value={state.fields.altitude?.value?.toString()}\n            onChangeText={(newValue) => dispatch(actions.forms.ticketType.setField([\"altitude\", Number(newValue)]))}\n          />\n        )\n      }\n\n      <Checkbox.Item\n        label=\"Tandem\"\n        style={{ width: \"100%\" }}\n        status={!!state.fields.isTandem.value\n          ? \"checked\"\n          : \"unchecked\"\n        }\n        onPress={\n          () => dispatch(actions.forms.ticketType.setField([\"isTandem\", !state.fields.isTandem.value]))\n        }\n      />\n      <HelperText type={!!state.fields.isTandem.error ? \"error\" : \"info\"}>\n        { state.fields.isTandem.error || \"Allow also manifesting a passenger when using this ticket type\" }\n      </HelperText>\n\n      <Checkbox.Item\n        label=\"Public manifesting\"\n        style={{ width: \"100%\" }}\n        status={!!state.fields.allowManifestingSelf.value\n          ? \"checked\"\n          : \"unchecked\"\n        }\n        onPress={\n          () => dispatch(actions.forms.ticketType.setField([\"allowManifestingSelf\", !state.fields.allowManifestingSelf.value]))\n        }\n      />\n      \n      <HelperText type={!!state.fields.allowManifestingSelf.error ? \"error\" : \"info\"}>\n        { state.fields.allowManifestingSelf.error || \"Allow users to manifest themselves with this ticket\" }\n      </HelperText>\n\n      <Divider />\n      <List.Subheader>Enabled ticket add-ons</List.Subheader>\n      {\n        data?.extras.map((extra) =>\n          <Checkbox.Item\n            key={`extra-${extra.id}`}\n            label={extra.name!}\n            status={state.fields.extras.value?.map(({ id }) => id).includes(extra.id)\n              ? \"checked\"\n              : \"unchecked\"\n            }\n            onPress={\n              () => dispatch(\n                actions.forms.ticketType.setField([\n                  \"extras\",\n                  state.fields.extras.value?.map(({ id }) => id).includes(extra.id)\n                  ? state.fields.extras.value?.filter(({ id }) => id !== extra.id)\n                  : [...state.fields.extras.value!, extra]\n                ])\n              )\n            }\n          />\n        )\n      }\n\n      </View>\n    </>\n  );\n}\n\nconst styles = StyleSheet.create({\n  field: {\n    marginBottom: 8,\n    width: \"100%\"\n  }\n});\n","import * as React from 'react';\nimport { gql, useMutation } from \"@apollo/client\";\n\nimport { actions, useAppSelector, useAppDispatch } from '../../redux';\nimport { Mutation } from '../../graphql/schema';\nimport TicketTypeForm from '../../components/forms/ticket_type/TicketTypeForm';\nimport { useIsFocused, useNavigation } from '@react-navigation/core';\nimport DialogOrSheet from '../layout/DialogOrSheet';\nimport useCurrentDropzone from '../../graphql/hooks/useCurrentDropzone';\n\n\n\nconst MUTATION_CREATE_TICKET_TYPE = gql`\n  mutation CreateTicketType(\n    $name: String,\n    $cost: Float,\n    $dropzoneId: Int!\n    $altitude: Int\n    $allowManifestingSelf: Boolean\n    $isTandem: Boolean\n  ){\n    createTicketType(input: {\n      attributes: {\n        name: $name,\n        cost: $cost,\n        dropzoneId: $dropzoneId\n        altitude: $altitude\n        allowManifestingSelf: $allowManifestingSelf\n        isTandem: $isTandem\n      }\n    }) {\n      ticketType {\n        id\n        name\n        altitude\n        cost\n        allowManifestingSelf\n        extras {\n          id\n          name\n          cost\n        }\n\n        dropzone {\n          id\n\n          ticketTypes {\n            id\n            name\n            altitude\n            cost\n            allowManifestingSelf\n            extras {\n              id\n              name\n              cost\n            }\n          }\n        }\n      }\n    }\n  }\n`;\n\nconst MUTATION_UPDATE_TICKET_TYPE = gql`\n  mutation UpdateTicketType(\n    $id: Int!,\n    $name: String,\n    $cost: Float,\n    $altitude: Int\n    $allowManifestingSelf: Boolean\n    $isTandem: Boolean\n  ){\n    updateTicketType(input: {\n      id: $id\n      attributes: {\n        name: $name,\n        cost: $cost,\n        altitude: $altitude\n        allowManifestingSelf: $allowManifestingSelf\n        isTandem: $isTandem\n      }\n    }) {\n      ticketType {\n        id\n        name\n        altitude\n        cost\n        allowManifestingSelf\n        extras {\n          id\n          name\n          cost\n        }\n\n        dropzone {\n          id\n\n          ticketTypes {\n            id\n            name\n            altitude\n            cost\n            allowManifestingSelf\n            extras {\n              id\n              name\n              cost\n            }\n          }\n        }\n      }\n    }\n  }\n`;\n\n\n\ninterface ITicketTypeDialog {\n  open: boolean;\n  onClose(): void;\n}\n\nexport default function TicketTypeDialog(props: ITicketTypeDialog) {\n  const { open, onClose } = props;\n  const state = useAppSelector(state => state.forms.ticketType);\n  const dispatch = useAppDispatch();\n  const currentDropzone = useCurrentDropzone();\n\n  const [mutationCreateTicketType, create] = useMutation<Mutation>(MUTATION_CREATE_TICKET_TYPE);\n  const [mutationUpdateTicketType, update] = useMutation<Mutation>(MUTATION_UPDATE_TICKET_TYPE);\n\n  const isFocused = useIsFocused();\n  React.useEffect(() => {\n    if (isFocused) {\n      dispatch(actions.forms.ticketType.reset());\n    }\n  }, [isFocused]);\n\n  const validate = React.useCallback((): boolean => {\n    let hasError = false;\n    if (!state.fields.name.value || state.fields.name.value.length < 3) {\n      hasError = true;\n      dispatch(\n        actions.forms.ticketType.setFieldError([\"name\", \"Name is too short\"])\n      );\n    }\n\n    if (state.fields.cost.value! < 1) {\n      hasError = true;\n      dispatch(\n        actions.forms.ticketType.setFieldError([\"cost\", \"Cost must be at least $1\"])\n      );\n    }\n\n    if (!state.fields.altitude.value) {\n      hasError = true;\n      dispatch(\n        actions.forms.ticketType.setFieldError([\"altitude\", \"Altitude must be specified\"])\n      );\n    }\n\n    return !hasError;\n  }, [JSON.stringify(state.fields), dispatch]);\n\n  const onSave = React.useCallback(async () => {\n    const { name, cost, allowManifestingSelf, altitude, extras, isTandem } = state.fields;\n\n    \n\n    if (validate()) {\n      try {\n\n        const mutation = state.original?.id\n          ? mutationUpdateTicketType\n          : mutationCreateTicketType;\n        \n        const result = await mutation({\n          variables: {\n            ...state.original?.id ? { id: Number(state.original?.id)} : { dropzoneId: Number(currentDropzone?.dropzone?.id) },\n            name: name.value,\n            cost: cost.value,\n            altitude: altitude.value,\n            allowManifestingSelf: allowManifestingSelf.value,\n            extraIds: extras?.value?.map(({ id }) => id),\n            isTandem: !!isTandem.value\n          }\n        });\n\n        const payload = state?.original?.id\n          ? result?.data?.updateTicketType\n          : result?.data?.createTicketType;\n        \n        if (payload?.fieldErrors) {\n          return payload?.fieldErrors?.map(({ field, message }) => {\n            switch (field) {\n              case \"name\":\n                return dispatch(actions.forms.ticketType.setFieldError([\"name\", message]));\n              case \"altitude\":\n                return dispatch(actions.forms.ticketType.setFieldError([\"altitude\", message]));\n              case \"cost\":\n                return dispatch(actions.forms.ticketType.setFieldError([\"cost\", message]));\n              case \"allow_manifesting_self\":\n                return dispatch(actions.forms.ticketType.setFieldError([\"allowManifestingSelf\", message]));\n              case \"extras\":\n                return dispatch(actions.forms.ticketType.setFieldError([\"extras\", message]));\n            }\n          });\n        }\n\n        if (payload?.errors?.length) {\n          onClose();\n          return dispatch(\n            actions.notifications.showSnackbar({\n              message: payload?.errors[0],\n              variant: \"error\"\n            })\n          );\n        }\n        \n        if (payload?.ticketType) {\n          dispatch(\n            actions.notifications.showSnackbar({ message: `Saved`, variant: \"success\" })\n          );\n          dispatch(actions.forms.ticketType.reset());\n          onClose();\n        }\n      } catch (error) {\n        dispatch(\n          actions.notifications.showSnackbar({ message: error.message, variant: \"error\" })\n        );\n      }\n    }\n    \n  }, [JSON.stringify(state.fields), dispatch, mutationCreateTicketType]);\n\n  return (\n    <DialogOrSheet\n      title={ state.original?.id ? \"Edit ticket\" : \"New ticket\"}\n      open={open}\n      onClose={() => {\n        onClose();\n      }}\n      loading={create.loading || update.loading}\n      buttonAction={onSave}\n      buttonLabel=\"Save\"\n    >\n      <TicketTypeForm />\n    </DialogOrSheet>\n  );\n}","import { useMutation, useQuery } from '@apollo/client';\nimport { useIsFocused, useRoute } from '@react-navigation/core';\nimport gql from 'graphql-tag';\nimport * as React from 'react';\nimport { StyleSheet, RefreshControl } from 'react-native';\nimport { FAB, DataTable, ProgressBar, Switch } from 'react-native-paper';\nimport { Mutation, Permission, Query } from \"../../../graphql/schema.d\";\n\nimport { actions, useAppDispatch, useAppSelector } from '../../../redux';\nimport ScrollableScreen from '../../../components/layout/ScrollableScreen';\nimport TicketTypesDialog from '../../../components/dialogs/TicketType';\nimport SwipeActions from '../../../components/layout/SwipeActions';\nimport useRestriction from '../../../hooks/useRestriction';\n\nconst QUERY_TICKET_TYPE = gql`\n  query QueryTicketType(\n    $dropzoneId: Int!\n  ) {\n    dropzone(id: $dropzoneId) {\n      id\n      ticketTypes {\n        id\n        cost\n        currency\n        name\n        altitude\n        allowManifestingSelf\n\n        extras {\n          id\n          name\n        }\n      }\n    }\n  }\n`;\n\nconst MUTATION_UPDATE_TICKET_TYPE = gql`\n  mutation UpdateTicketTypePublic(\n    $id: Int!,\n    $allowManifestingSelf: Boolean\n  ){\n    updateTicketType(input: {\n      id: $id\n      attributes: {\n        allowManifestingSelf: $allowManifestingSelf\n      }\n    }) {\n      ticketType {\n        id\n        name\n        altitude\n        cost\n        allowManifestingSelf\n        isTandem\n        extras {\n          id\n          name\n          cost\n        }\n      }\n      fieldErrors {\n        field\n        message\n      }\n      errors\n    }\n  }\n`;\n\nconst MUTATION_DELETE_TICKET_TYPE = gql`\n  mutation DeleteTicketType(\n    $id: Int!,\n  ){\n    deleteTicketType(input: {\n      id: $id\n    }) {\n      ticketType {\n        id\n        dropzone {\n          id\n          ticketTypes {\n            id\n            cost\n            currency\n            name\n            altitude\n            allowManifestingSelf\n\n            extras {\n              id\n              name\n            }\n          }\n        }\n      }\n      errors\n    }\n  }\n`;\n\nexport default function TicketTypesScreen() {\n  const state = useAppSelector(state => state.global);\n  const form = useAppSelector(state => state.forms.ticketType);\n  const dispatch = useAppDispatch();\n  const { data, loading, refetch } = useQuery<Query>(QUERY_TICKET_TYPE, {\n    variables: {\n      dropzoneId: Number(state.currentDropzone?.id)\n    }\n  });\n  const route = useRoute();\n  const isFocused = useIsFocused();\n\n  React.useEffect(() => {\n    if (isFocused) {\n      refetch();\n    }\n  }, [isFocused]);\n  const [mutationUpdateTicketType, mutation] = useMutation<Mutation>(MUTATION_UPDATE_TICKET_TYPE);\n  const [mutationDeleteTicketType, mutationDelete] = useMutation<Mutation>(MUTATION_DELETE_TICKET_TYPE);\n  \n  React.useEffect(() => {\n    if (route.name === \"TicketTypesScreen\") {\n      refetch();\n    }\n  }, [route.name])\n\n  const canCreateTicketTypes = useRestriction(Permission.CreateTicketType);\n  return (\n      <ScrollableScreen style={styles.container} contentContainerStyle={[styles.content, {  backgroundColor: \"white\" }]} refreshControl={<RefreshControl refreshing={loading} onRefresh={refetch} />}>\n      <ProgressBar visible={loading} color={state.theme.colors.accent} />\n        <DataTable>\n          <DataTable.Header>\n            <DataTable.Title>Name</DataTable.Title>\n            <DataTable.Title numeric>Cost</DataTable.Title>\n            <DataTable.Title numeric>Altitude</DataTable.Title>\n            <DataTable.Title numeric>Public</DataTable.Title>\n          </DataTable.Header>\n\n          { data?.dropzone?.ticketTypes?.map((ticketType) =>\n          <SwipeActions\n            rightAction={{\n              label: \"Delete\",\n              backgroundColor: \"red\",\n              onPress: async () => {\n                const { data: result } = await mutationDeleteTicketType({ variables: { id: Number(ticketType.id) }});\n\n                if (result?.deleteTicketType?.errors?.length) {\n                  dispatch(\n                    actions.notifications.showSnackbar({\n                      message: result?.deleteTicketType?.errors[0],\n                      variant: \"error\"\n                    })\n                  );\n                }\n              }\n            }}\n          >\n            <DataTable.Row\n              onPress={() => {\n                dispatch(actions.forms.ticketType.setOpen(ticketType));\n              }}\n              pointerEvents=\"none\"\n            >\n              <DataTable.Cell>{ticketType.name}</DataTable.Cell>\n              <DataTable.Cell numeric>${ticketType.cost}</DataTable.Cell>\n              <DataTable.Cell numeric>\n                {ticketType.altitude}\n              </DataTable.Cell>\n              <DataTable.Cell numeric>\n                <Switch\n                  onValueChange={() => {\n                    mutationUpdateTicketType({\n                      variables: {\n                        id: Number(ticketType.id),\n                        allowManifestingSelf: !ticketType.allowManifestingSelf\n                      }\n                    })\n                  }}\n                  value={!!ticketType.allowManifestingSelf}\n                />\n              </DataTable.Cell>\n            </DataTable.Row>\n            </SwipeActions>\n            )}\n        </DataTable>\n        \n        <FAB\n          style={styles.fab}\n          small\n          visible={canCreateTicketTypes}\n          icon=\"plus\"\n          onPress={() => dispatch(actions.forms.ticketType.setOpen(true))}\n          label=\"New ticket type\"\n        />\n        <TicketTypesDialog\n          open={form.open}\n          onClose={() => dispatch(actions.forms.ticketType.setOpen(false))}\n        />\n      </ScrollableScreen>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    display: \"flex\"\n  },\n  content: {\n    flexGrow: 1,\n  },\n  fab: {\n    position: 'absolute',\n    margin: 16,\n    right: 0,\n    bottom: 0,\n  },\n  empty: {\n    flex: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    width: \"100%\",\n    height: \"100%\"\n  }\n});\n"],"sourceRoot":""}